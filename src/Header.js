import { useState } from 'react'
import { Dialog } from '@headlessui/react'
import { Bars3Icon, XMarkIcon } from '@heroicons/react/24/outline'
import { navigation as nav } from './Footer'
import { IconKeepers, IconStablecoin, IconDLCs } from './Main'

const navigation = [
  {
    name: 'Stablecoin',
    href: 'https://app.arkadiko.finance/',
    icon: <IconStablecoin />,
    color: 'bg-[#4597e6]/90'
  },
  {
    name: 'Keepers',
    href: 'https://keepersapp.arkadiko.finance/',
    icon: <IconKeepers />,
    color: 'bg-[#73e6b1]/90'
  },
  {
    name: 'DLCs',
    href: 'https://www.dlc.link/blog/4-ways-dlc-links-bitcoin-attestors-enable-finance-on-bitcoin',
    icon: <IconDLCs />,
    color: 'bg-[#e7c047]/90'
  },
]

export default function Header() {
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false)

  return (
    <header className="lg:fixed w-full z-10 bg-[linear-gradient(90deg,rgba(12,10,9,0.90)17.13%,rgba(3,7,18,0.90)63.77%)] backdrop-blur-md">
      <nav className="flex items-center justify-between p-6 mx-auto max-w-7xl lg:justify-center lg:px-8" aria-label="Global">
        <a href="#" className="-m-1.5 p-1.5">
          <span className="sr-only">Arkadiko</span>
          <svg className="h-6 sm:hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 43">
            <path fill="#fff" d="M17.76 1.426c.203-.427.523-.788.925-1.04A2.516 2.516 0 0 1 20.03 0h10.715a2.5 2.5 0 0 1 2.147 1.194L55.645 38.52c.467.759.467 1.703.028 2.463a2.502 2.502 0 0 1-.92.909 2.525 2.525 0 0 1-1.254.331h-11.2a2.53 2.53 0 0 1-1.773-.713 29.32 29.32 0 0 0-15.075-7.565c-6.346-1.009-13.823.37-21.187 7.565a2.545 2.545 0 0 1-3.192.278 2.426 2.426 0 0 1-.985-1.365 2.408 2.408 0 0 1 .144-1.672l17.52-37.325h.01Zm6.627 3.472 19.35 32.418h5.357L29.325 4.908h-4.938v-.01ZM34.552 31.65 20.299 7.75 8.912 31.992a27.416 27.416 0 0 1 17.342-2.87c2.987.462 5.787 1.388 8.298 2.527Z"/>
          </svg>
          <svg className="hidden h-10 sm:inline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 214 43">
            <path fill="#fff" d="m83.986 10.108 10.152 24.317h-5.625l-2.195-5.213H75.995l-2.161 5.213h-5.66l10.153-24.317h5.659Zm.377 14.37-3.19-7.648-3.19 7.649h6.38Zm16.73-4.698c.229-.366.491-.709.789-1.029.297-.343.651-.64 1.063-.892.412-.274.88-.491 1.406-.651a6.127 6.127 0 0 1 1.784-.24c.777 0 1.68.137 2.709.411l-.446 4.219a8.93 8.93 0 0 1-.754-.172 5.483 5.483 0 0 0-.686-.103 3.87 3.87 0 0 0-.686-.068c-.732 0-1.418.103-2.058.308a5.17 5.17 0 0 0-1.612.858 4.166 4.166 0 0 0-1.098 1.338 3.386 3.386 0 0 0-.411 1.646v9.02H96.36V17.413h4.287l.446 2.367Zm18.902 4.699 7.168 9.946h-5.659l-4.493-6.79-1.681 1.817v4.973h-4.733V9.388h4.733v13.89l5.522-5.865h5.762l-6.619 7.066Zm26.254-7.066v17.012h-4.082l-.48-1.818c-.663.892-1.463 1.486-2.401 1.784a9.261 9.261 0 0 1-2.881.446c-1.211 0-2.332-.23-3.361-.686a8.82 8.82 0 0 1-2.641-1.921 9.368 9.368 0 0 1-1.783-2.847 9.872 9.872 0 0 1-.618-3.498c0-1.235.206-2.39.618-3.464a8.843 8.843 0 0 1 1.783-2.847 8.097 8.097 0 0 1 2.641-1.92c1.029-.48 2.15-.72 3.361-.72 1.098 0 2.104.17 3.019.514a5.108 5.108 0 0 1 2.263 1.646l.48-1.68h4.082Zm-4.733 8.54c0-.891-.126-1.634-.378-2.229-.228-.617-.548-1.109-.96-1.475a3.233 3.233 0 0 0-1.406-.823 5.19 5.19 0 0 0-1.715-.274c-.617 0-1.2.126-1.749.377a4.734 4.734 0 0 0-1.406 1.03 4.269 4.269 0 0 0-.961 1.508 4.862 4.862 0 0 0-.343 1.818c0 .663.115 1.28.343 1.852.229.572.549 1.075.961 1.51.411.41.88.742 1.406.994a4.15 4.15 0 0 0 1.749.377c1.235 0 2.275-.377 3.121-1.132.869-.777 1.315-1.955 1.338-3.533Zm24.948-16.565v25.037h-4.047l-.686-1.475c-.526.549-1.258 1.006-2.195 1.372a8.139 8.139 0 0 1-2.881.515c-1.212 0-2.333-.23-3.362-.686a8.689 8.689 0 0 1-2.675-1.921 9.742 9.742 0 0 1-1.749-2.847 9.872 9.872 0 0 1-.617-3.498c0-1.235.205-2.39.617-3.464.434-1.098 1.018-2.047 1.749-2.847a7.995 7.995 0 0 1 2.675-1.92c1.029-.48 2.15-.72 3.362-.72 1.074 0 2.023.125 2.846.377a5.57 5.57 0 0 1 2.23 1.268V9.388h4.733Zm-4.733 16.566c0-.892-.115-1.635-.343-2.23-.229-.617-.549-1.109-.961-1.475a3.485 3.485 0 0 0-1.44-.823 5.19 5.19 0 0 0-1.715-.274c-.617 0-1.201.126-1.749.377a4.734 4.734 0 0 0-1.406 1.03 4.526 4.526 0 0 0-.926 1.508 4.842 4.842 0 0 0-.343 1.818c0 .663.114 1.28.343 1.852a5.04 5.04 0 0 0 .926 1.51c.411.41.88.742 1.406.994a4.147 4.147 0 0 0 1.749.377c1.235 0 2.275-.377 3.121-1.132.869-.777 1.315-1.955 1.338-3.533Zm12.959 8.471h-4.733V17.413h4.733v17.012Zm-2.367-19.344c-.732 0-1.349-.251-1.852-.754-.503-.503-.754-1.12-.754-1.852s.251-1.35.754-1.852a2.462 2.462 0 0 1 1.852-.79c.732 0 1.349.264 1.852.79.503.503.755 1.12.755 1.852 0 .731-.252 1.349-.755 1.852-.503.503-1.12.754-1.852.754Zm15.329 9.398 7.168 9.946h-5.659l-4.493-6.79-1.681 1.817v4.973h-4.733V9.388h4.733v13.89l5.522-5.865h5.762l-6.619 7.066Zm17.324-7.546a8.31 8.31 0 0 1 3.43.72 8.554 8.554 0 0 1 2.813 1.921c.8.8 1.429 1.75 1.886 2.847a8.4 8.4 0 0 1 .72 3.464c0 1.235-.24 2.4-.72 3.498a9.228 9.228 0 0 1-1.886 2.847 9.31 9.31 0 0 1-2.813 1.92 8.666 8.666 0 0 1-3.43.687 8.757 8.757 0 0 1-3.464-.686 9.306 9.306 0 0 1-2.812-1.921 9.78 9.78 0 0 1-1.921-2.847 9.01 9.01 0 0 1-.686-3.498c0-1.235.229-2.39.686-3.464a9.205 9.205 0 0 1 1.921-2.847 8.55 8.55 0 0 1 2.812-1.92 8.397 8.397 0 0 1 3.464-.72Zm0 13.754c.572 0 1.098-.115 1.578-.343a4.088 4.088 0 0 0 1.303-.926c.389-.412.686-.892.892-1.44a5.036 5.036 0 0 0 .343-1.887 5.3 5.3 0 0 0-.343-1.921 4.484 4.484 0 0 0-.892-1.543 3.867 3.867 0 0 0-1.303-1.064 3.124 3.124 0 0 0-1.578-.411 3.32 3.32 0 0 0-1.612.411 4.234 4.234 0 0 0-1.337 1.064 5.364 5.364 0 0 0-.892 1.543 5.827 5.827 0 0 0-.309 1.92c0 .687.103 1.315.309 1.887a5.09 5.09 0 0 0 .892 1.44c.389.39.834.698 1.337.927a3.856 3.856 0 0 0 1.612.343ZM17.935 1.814c.203-.427.523-.788.925-1.04a2.516 2.516 0 0 1 1.343-.386H30.92a2.5 2.5 0 0 1 2.146 1.194l22.756 37.325c.467.76.467 1.704.028 2.464a2.5 2.5 0 0 1-.92.909 2.525 2.525 0 0 1-1.255.331h-11.2a2.53 2.53 0 0 1-1.774-.713 29.32 29.32 0 0 0-15.074-7.565c-6.347-1.01-13.823.37-21.188 7.565a2.545 2.545 0 0 1-3.192.278 2.427 2.427 0 0 1-.984-1.365 2.408 2.408 0 0 1 .144-1.672l17.52-37.325h.01Zm6.627 3.472 19.35 32.418h5.357L29.499 5.295h-4.937v-.009Zm10.165 26.75L20.474 8.139 9.087 32.38a27.416 27.416 0 0 1 17.342-2.871c2.987.463 5.787 1.389 8.298 2.528Z"/>
          </svg>
        </a>
        <div className="flex lg:hidden">
          <button
            type="button"
            className="-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-100"
            onClick={() => setMobileMenuOpen(true)}
          >
            <span className="sr-only">Open main menu</span>
            <Bars3Icon className="w-6 h-6" aria-hidden="true" />
          </button>
        </div>
      </nav>
      <Dialog as="div" className="lg:hidden" open={mobileMenuOpen} onClose={setMobileMenuOpen}>
        <div className="fixed inset-0 z-10" />
        <Dialog.Panel className="fixed inset-y-0 left-0 z-10 w-full px-6 py-6 overflow-y-auto bg-[#180A24]">
          <div className="flex items-center justify-between">
            <div className="flex flex-1">
              <a href="/" className="-m-1.5 p-1.5 flex flex-1">
                <span className="sr-only">Arkadiko</span>
                <svg className="h-8" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 43">
                  <path fill="#fff" d="M17.76 1.426c.203-.427.523-.788.925-1.04A2.516 2.516 0 0 1 20.03 0h10.715a2.5 2.5 0 0 1 2.147 1.194L55.645 38.52c.467.759.467 1.703.028 2.463a2.502 2.502 0 0 1-.92.909 2.525 2.525 0 0 1-1.254.331h-11.2a2.53 2.53 0 0 1-1.773-.713 29.32 29.32 0 0 0-15.075-7.565c-6.346-1.009-13.823.37-21.187 7.565a2.545 2.545 0 0 1-3.192.278 2.426 2.426 0 0 1-.985-1.365 2.408 2.408 0 0 1 .144-1.672l17.52-37.325h.01Zm6.627 3.472 19.35 32.418h5.357L29.325 4.908h-4.938v-.01ZM34.552 31.65 20.299 7.75 8.912 31.992a27.416 27.416 0 0 1 17.342-2.87c2.987.462 5.787 1.388 8.298 2.527Z"/>
                </svg>
              </a>
              <button
                type="button"
                className="-m-2.5 rounded-md p-2.5 text-gray-200"
                onClick={() => setMobileMenuOpen(false)}
              >
                <span className="sr-only">Close menu</span>
                <XMarkIcon className="w-6 h-6" aria-hidden="true" />
              </button>
            </div>
          </div>
          <div className="px-8 py-4 mt-6 space-y-2 rounded-md bg-white/5">
            {navigation.map((item) => (
              <a
                key={item.name}
                href={item.href}
                className={`flex items-center block gap-6 px-3 py-2 -mx-3 text-2xl leading-7 text-black/60 font-bold rounded-lg ${item.color}`}
              >
                <svg className="w-8 h-8" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                  {item.icon}
                </svg>
                {item.name}
              </a>
            ))}
          </div>
          <div className="px-8 py-4 mt-6 bg-black rounded-md">
            <ul className="space-y-2">
              {nav.main.map((item) => (
                <li key={item.name} className="rounded-lg hover:bg-[#180A24] px-3 pt-1 -mx-3">
                  <a
                    href={item.href}
                    className="inline-flex items-center block gap-4 text-2xl leading-7 text-gray-100 rounded-lg"
                  >
                    <div className="flex items-center justify-center w-10 h-10 text-white shrink-0 sm:h-12 sm:w-12">
                      <item.icon aria-hidden="true" />
                    </div>
                    {item.name}
                  </a>
                </li>
              ))}
            </ul>
          </div>
          <div className="flex items-center justify-center px-8 py-4 mt-6 space-x-6 bg-black rounded-md">
            {nav.social.map((item) => (
              <a key={item.name} href={item.href} className="flex items-center justify-center shrink-0 w-12 h-12 hover:bg-[#180A24] rounded-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 text-white/80 hover:text-white rounded-xl">
                <span className="sr-only">{item.name}</span>
                <item.icon className="w-6 h-6" aria-hidden="true" />
              </a>
            ))}
          </div>

          <svg class="h-10 w-auto text-white mx-auto mt-8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 370.99 127.93">
            <path d="M127.92 47.62V16.45h14.43c2.05 0 3.83.39 5.34 1.18s2.7 1.88 3.56 3.27c.86 1.4 1.29 3.02 1.29 4.85s-.43 3.46-1.29 4.85c-.86 1.4-2.06 2.49-3.58 3.27-1.53.79-3.3 1.18-5.32 1.18h-9.75v12.56h-4.68Zm4.68-16.52h9.26c1.84 0 3.3-.48 4.39-1.45s1.63-2.25 1.63-3.85-.54-2.88-1.63-3.83c-1.08-.95-2.55-1.42-4.39-1.42h-9.26V31.1ZM166 48.07c-2.2 0-4.19-.52-5.99-1.56-1.8-1.04-3.21-2.45-4.25-4.23-1.04-1.78-1.56-3.77-1.56-5.97s.52-4.19 1.56-5.97c1.04-1.78 2.46-3.2 4.25-4.25 1.8-1.05 3.79-1.58 5.99-1.58s4.23.53 6.01 1.58c1.78 1.06 3.19 2.47 4.23 4.25 1.04 1.78 1.56 3.77 1.56 5.97s-.52 4.19-1.56 5.97-2.45 3.19-4.23 4.23-3.78 1.56-6.01 1.56Zm0-3.92c1.4 0 2.66-.35 3.79-1.05a7.49 7.49 0 0 0 2.67-2.83c.65-1.19.98-2.52.98-4.01s-.33-2.77-1-3.94a8.056 8.056 0 0 0-2.67-2.83c-1.11-.71-2.37-1.07-3.76-1.07s-2.65.36-3.76 1.07c-1.11.71-2 1.65-2.67 2.83-.67 1.17-1 2.49-1 3.94s.33 2.82.98 4.01 1.54 2.13 2.67 2.83 2.39 1.05 3.79 1.05ZM186.71 47.62l-6.32-22.67h4.32l4.41 16.66 5.17-16.66h3.83l5.17 16.66 4.41-16.66h4.19l-6.37 22.67h-4.27l-5.08-16.61-5.12 16.61h-4.32ZM226.34 48.02c-2.23 0-4.24-.52-6.04-1.56-1.8-1.04-3.22-2.45-4.27-4.23-1.05-1.78-1.58-3.77-1.58-5.97s.5-4.13 1.51-5.9c1.01-1.77 2.38-3.18 4.1-4.23 1.72-1.05 3.64-1.58 5.74-1.58s3.98.53 5.61 1.58c1.63 1.06 2.93 2.48 3.9 4.28.96 1.8 1.45 3.82 1.45 6.08v1.25H218.9c.24 1.25.71 2.36 1.4 3.34.7.98 1.59 1.75 2.67 2.32 1.08.56 2.26.85 3.54.85 1.1 0 2.16-.17 3.18-.51 1.02-.34 1.88-.84 2.56-1.49l2.85 2.81c-1.34 1.01-2.71 1.76-4.12 2.25-1.41.49-2.96.74-4.65.74Zm-7.39-13.63h13.4c-.18-1.19-.59-2.23-1.23-3.14a6.99 6.99 0 0 0-2.36-2.14c-.94-.52-1.95-.78-3.05-.78s-2.17.25-3.12.76c-.95.51-1.74 1.21-2.38 2.12-.64.91-1.06 1.97-1.27 3.18ZM241.89 47.62V24.95h4.45v2.9c.71-1.07 1.6-1.91 2.65-2.52 1.05-.61 2.25-.91 3.59-.91.92.03 1.68.16 2.27.4v4.01c-.42-.18-.85-.3-1.29-.38a8.65 8.65 0 0 0-1.34-.11c-1.31 0-2.47.35-3.48 1.05s-1.81 1.71-2.4 3.05v15.19h-4.45ZM268.87 48.02c-2.23 0-4.24-.52-6.04-1.56a11.703 11.703 0 0 1-4.27-4.23c-1.06-1.78-1.58-3.77-1.58-5.97s.51-4.13 1.51-5.9c1.01-1.77 2.38-3.18 4.1-4.23 1.72-1.05 3.64-1.58 5.75-1.58s3.98.53 5.61 1.58c1.63 1.06 2.93 2.48 3.9 4.28s1.45 3.82 1.45 6.08v1.25h-17.86c.24 1.25.71 2.36 1.4 3.34.7.98 1.59 1.75 2.67 2.32 1.08.56 2.26.85 3.54.85 1.1 0 2.16-.17 3.18-.51 1.02-.34 1.88-.84 2.56-1.49l2.85 2.81c-1.34 1.01-2.71 1.76-4.12 2.25s-2.96.74-4.65.74Zm-7.39-13.63h13.4c-.18-1.19-.59-2.23-1.22-3.14a7.084 7.084 0 0 0-2.36-2.14c-.94-.52-1.95-.78-3.05-.78s-2.17.25-3.12.76c-.95.51-1.74 1.21-2.38 2.12-.64.91-1.06 1.97-1.27 3.18ZM294.88 47.98c-2.11 0-4.04-.52-5.79-1.56a11.375 11.375 0 0 1-4.14-4.21c-1.01-1.77-1.51-3.75-1.51-5.95s.51-4.17 1.54-5.92c1.02-1.75 2.41-3.15 4.16-4.19 1.75-1.04 3.7-1.56 5.83-1.56a11.233 11.233 0 0 1 6.82 2.27V16.44l4.45-.85v32.02h-4.41v-2.18c-1.93 1.69-4.25 2.54-6.95 2.54Zm.58-3.87c1.3 0 2.5-.24 3.58-.71s2-1.16 2.74-2.05v-10.2c-.74-.83-1.65-1.49-2.74-1.98s-2.28-.73-3.58-.73c-1.43 0-2.72.34-3.88 1.02a7.587 7.587 0 0 0-2.76 2.78c-.68 1.17-1.02 2.5-1.02 3.99s.34 2.82 1.02 4.01c.68 1.19 1.6 2.13 2.76 2.83 1.16.7 2.45 1.05 3.88 1.05ZM322.58 47.62V16.45l4.45-.85v11.49c1.9-1.66 4.2-2.49 6.9-2.49 2.14 0 4.08.52 5.81 1.56 1.74 1.04 3.11 2.43 4.12 4.19 1.01 1.75 1.51 3.73 1.51 5.92s-.51 4.18-1.54 5.95c-1.02 1.77-2.4 3.17-4.14 4.21-1.74 1.04-3.69 1.56-5.86 1.56-1.25 0-2.46-.2-3.63-.6-1.17-.4-2.25-.97-3.23-1.72v1.96h-4.41Zm10.78-3.52c1.45 0 2.75-.34 3.9-1.02 1.14-.68 2.05-1.61 2.74-2.78.68-1.17 1.02-2.5 1.02-3.99s-.34-2.82-1.02-4.01a7.695 7.695 0 0 0-2.74-2.81c-1.14-.68-2.44-1.02-3.9-1.02-1.28 0-2.47.24-3.56.71-1.1.47-2.02 1.14-2.76 2v10.24c.74.83 1.67 1.48 2.78 1.96 1.11.48 2.29.71 3.54.71ZM351.35 57.2c-.47 0-.92-.02-1.34-.07s-.76-.11-1.02-.2v-3.92c.53.12 1.19.18 1.96.18 2.08 0 3.58-1.11 4.5-3.34l.98-2.18-9.08-22.71h4.94l6.59 17.28 7.3-17.28h4.81l-10.95 25.47c-.71 1.6-1.47 2.9-2.27 3.9-.8.99-1.72 1.72-2.76 2.18-1.04.46-2.26.69-3.65.69ZM143.02 97.41v-8.49h20.13c3.08 0 5.48-.87 7.2-2.62 1.72-1.75 2.59-4.05 2.59-6.9s-.86-5.2-2.59-6.9-4.13-2.55-7.2-2.55h-26.54v42.39h-8.69V61.17h35.23c2.9 0 5.48.43 7.76 1.28 2.27.85 4.19 2.05 5.76 3.59 1.56 1.54 2.76 3.42 3.59 5.62.83 2.21 1.24 4.69 1.24 7.46s-.42 5.19-1.24 7.42c-.83 2.23-2.03 4.15-3.59 5.77-1.56 1.61-3.48 2.86-5.76 3.76-2.27.9-4.86 1.35-7.76 1.35h-20.13ZM210.01 112.33V92.3L183.4 61.16h11.79l19.51 23.13 19.58-23.13h11.17L218.76 92.3v20.03h-8.75ZM275.64 112.33v-42.4h-23.06v-8.77h54.9v8.77h-23.09v42.4h-8.75ZM362.27 61.16h8.72v51.17h-8.72V61.16ZM324.63 112.33v-22.7h32.45v-7.77h-32.45v-20.7h-8.72v51.17h8.72ZM51.17 0c-9.32 0-18.06 2.49-25.59 6.85a50.935 50.935 0 0 0-12.79 10.48C4.83 26.35 0 38.2 0 51.17v38.38l12.79 12.79V51.17c0-11.36 4.94-21.58 12.79-28.61 3.69-3.3 8.03-5.9 12.79-7.58 4-1.42 8.31-2.19 12.79-2.19 21.19 0 38.38 17.18 38.38 38.38S72.36 89.55 51.16 89.55v12.79c28.26 0 51.17-22.91 51.17-51.17S79.44 0 51.17 0Z" fill="currentColor"/>
            <path d="M63.96 51.17c0 7.06-5.73 12.79-12.79 12.79v12.79c14.13 0 25.59-11.46 25.59-25.59S65.3 25.57 51.17 25.57c-4.66 0-9.03 1.24-12.79 3.43-7.65 4.42-12.79 12.69-12.79 22.16v63.97l11.5 11.5 1.29 1.29V51.17c0-7.06 5.73-12.79 12.79-12.79s12.79 5.73 12.79 12.79Z" fill="currentColor"/>
          </svg>
        </Dialog.Panel>
      </Dialog>
    </header>
  )
}
